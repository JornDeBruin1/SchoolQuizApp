import{u as b,c as x,r as v,w as S,a as y,o as z,b as h,d as o,e as r,f as d,g as s,I as Q,h as C,i as m,t as g,j as w,k as N,l as I,m as $,n as p,p as B,q as O,s as M,v as E,x as _,y as J,z as T,A as D,B as H,C as V,D as j,F as A,E as P,G}from"./index-B8QfEFL0.js";const L={class:"w-full dark:bg-gray-800"},R=["src"],U={class:"dark:bg-gray-800"},K={class:"w-1/2 dark:text-white"},W={class:"w-1/2 dark:bg-gray-800"},X={__name:"HomeContainer",props:{quiz:Object,favoriteQuizzes:Array},setup(l){const u=b(),e=l,f=x(()=>u.state.favoriteQuizzes),c=q=>f.value.some(n=>n.id===q.id);let a=v(e.favoriteQuizzes.includes(e.quiz.id)||localStorage.getItem("quiz-".concat(e.quiz.id,"-isFavorite"))==="true");S(()=>{a.value=e.favoriteQuizzes.includes(e.quiz.id)||localStorage.getItem("quiz-".concat(e.quiz.id,"-isFavorite"))==="true"});const t=y(),i=()=>{t.push("/tabs/quiz/".concat(e.quiz.id))},k=()=>{a.value?(u.dispatch("removeFavorite",e.quiz.id),localStorage.removeItem("quiz-".concat(e.quiz.id,"-isFavorite")),a.value=!1):(u.dispatch("addFavorite",e.quiz.id),localStorage.setItem("quiz-".concat(e.quiz.id,"-isFavorite"),"true"),a.value=!0)};return(q,n)=>(z(),h("div",L,[o(s(O),{class:"dark:bg-gray-800 m-0 py-6",onClick:n[1]||(n[1]=F=>i())},{default:r(()=>[d("img",{class:"p-4",src:l.quiz.img,alt:""},null,8,R),o(s(Q),{class:"dark:bg-gray-800"},{default:r(()=>[d("div",U,[o(s(C),{class:"dark:text-white"},{default:r(()=>[m(g(l.quiz.name),1)]),_:1})]),o(s(w),{class:"dark:text-white"},{default:r(()=>[m(g(l.quiz.name),1)]),_:1})]),_:1}),o(s(N),{class:"flex dark:bg-gray-800"},{default:r(()=>[d("div",K,g(l.quiz.questions.length)+" questions",1),d("div",W,[d("div",{onClick:n[0]||(n[0]=I(F=>k(),["stop"]))},[o(s($),{class:p(["text-[20px]",c(l.quiz)?"text-red-500":"text-black : dark:text-white"]),"aria-hidden":"true",icon:s(B),onClick:I(k,["stop"])},null,8,["icon","class"])])])]),_:1})]),_:1})]))}},Z={__name:"HomePage",setup(l){const u=v(M.map(a=>{const t=JSON.parse(localStorage.getItem("favoriteQuizzes"))||[];return a.isFavorite=t.includes(a.id),a})),e=v([]),f=a=>{const t=u.value.find(i=>i.id===a);if(t){if(t.isFavorite=!t.isFavorite,t.isFavorite)e.value.push(t.id);else{const i=e.value.indexOf(t.id);i!==-1&&e.value.splice(i,1)}localStorage.setItem("quizzes",JSON.stringify(u.value)),localStorage.setItem("favoriteQuizzes",JSON.stringify(e.value))}},c=v(!1);return E(()=>{const a=localStorage.getItem("favoriteQuizzes");a&&(e.value=JSON.parse(a)),u.value.forEach(i=>{i.isFavorite=e.value.includes(i.id)});const t=JSON.parse(localStorage.getItem("darkMode"));t!==null&&(c.value=t)}),(a,t)=>(z(),_(s(G),{class:"dark:bg-gray-800"},{default:r(()=>[o(s(V),{class:"dark:bg-gray-800"},{default:r(()=>[o(s(J),{class:p({"dark-background":c.value})},{default:r(()=>[o(s(T),{class:"dark:bg-gray-800"},{default:r(()=>[o(s(D))]),_:1}),o(s(H),{class:"dark:text-white"},{default:r(()=>[m("Quizzes")]),_:1})]),_:1},8,["class"])]),_:1}),o(s(P),{fullscreen:!0,class:"dark:bg-gray-800"},{default:r(()=>[(z(!0),h(A,null,j(u.value,i=>(z(),_(X,{key:i.id,quiz:i,favoriteQuizzes:e.value,onUpdateFavorite:f},null,8,["quiz","favoriteQuizzes"]))),128))]),_:1})]),_:1}))}};export{Z as default};
